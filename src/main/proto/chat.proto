

service Chat {
    rpc Connect (ConnectRequest) returns (ConnectRequest) {}
    rpc SendMessage(Message) returns (MessageResult) {}
    rpc GetMessage(MessageResult) returns (stream Message) {}
}

message ConnectRequest {
    required string name = 1;
}

message Message {
    required int64 timestamp = 1;
    required string name = 2;
    required string text = 3;
}

message MessagesRequest {

}

message MessageResult {
    required bool success = 1;
}